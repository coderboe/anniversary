<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Anniversary</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ’– Happy Anniversary ğŸ’–</h1>
    <p>To my beloved,</p>
    <p class="message">Every moment with you is a treasure. Thank you for being my everything. Here's to many more years together.</p>
    <div class="couple-banner">
        <img src="bf.jpeg" alt="Boyfriend" class="photo">
        <h2 class="heart-text">â¤ï¸ Lu & Yunn â¤ï¸</h2>
        <img src="gf.jpg" alt="Girlfriend" class="photo">
    </div>
    <p id="days-counter" class="days">â³ Loading days...</p>
  </div>
    <div class="anniversary-info">
    <p id="days-counter">â³ Loading days...</p>
    <p id="ymd-counter">ğŸ“… Loading time passed...</p>
    <p id="next-anniversary">ğŸ‰ Calculating next anniversary...</p>
    </div>

    <audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
    </audio>

    <button id="start-btn">ğŸ‰ Start Celebration</button>
    <button id="music-toggle" style="display:none;">ğŸ”Š Mute</button>

    <script>
    const music = document.getElementById("bg-music");
    const startBtn = document.getElementById("start-btn");
    const toggleBtn = document.getElementById("music-toggle");

    startBtn.onclick = () => {
        music.volume = 0;
        music.play().then(() => {
        // Fade in
        let vol = 0;
        const fadeIn = setInterval(() => {
            if (vol < 0.8) {
            vol += 0.02;
            music.volume = vol;
            } else {
            clearInterval(fadeIn);
            }
        }, 200);
        startBtn.style.display = "none";
        toggleBtn.style.display = "inline-block";
        }).catch(e => {
        alert("Autoplay blocked. Please interact with the page first.");
        console.error(e);
        });
    };

    toggleBtn.onclick = () => {
        music.muted = !music.muted;
        toggleBtn.innerText = music.muted ? "ğŸ”ˆ Unmute" : "ğŸ”Š Mute";
    };
    </script>
    <script>
  const startDate = new Date("2023-07-14");
  const today = new Date();

  // Calculate total days
  const timeDiff = today - startDate;
  const totalDays = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
  document.getElementById("days-counter").innerText = `ğŸ’‘ We have been together for ${totalDays} days!`;

  // Calculate years, months, days
  const getYMD = (start, end) => {
    let years = end.getFullYear() - start.getFullYear();
    let months = end.getMonth() - start.getMonth();
    let days = end.getDate() - start.getDate();

    if (days < 0) {
      months -= 1;
      const prevMonth = new Date(end.getFullYear(), end.getMonth(), 0);
      days += prevMonth.getDate();
    }

    if (months < 0) {
      years -= 1;
      months += 12;
    }

    return { years, months, days };
  };

  const ymd = getYMD(startDate, today);
  document.getElementById("ymd-counter").innerText =
    `â° That's ${ymd.years} year(s), ${ymd.months} month(s), and ${ymd.days} day(s)!`;

  // Calculate countdown to next anniversary
  const nextAnniversary = new Date(today.getFullYear(), startDate.getMonth(), startDate.getDate());
  if (nextAnniversary < today) {
    nextAnniversary.setFullYear(today.getFullYear() + 1);
  }

  const daysUntil = Math.ceil((nextAnniversary - today) / (1000 * 60 * 60 * 24));
  document.getElementById("next-anniversary").innerText =
    `ğŸ‰ Only ${daysUntil} day(s) until your next anniversary! ğŸˆ`;
</script>
</body>
</html>
